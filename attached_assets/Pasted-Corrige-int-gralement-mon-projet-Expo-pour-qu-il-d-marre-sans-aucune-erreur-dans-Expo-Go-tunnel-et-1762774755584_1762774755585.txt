Corrige intÃ©gralement mon projet Expo pour quâ€™il dÃ©marre sans aucune erreur dans Expo Go (tunnel) et en Web Preview, avec SDK 54 et Node 20.
Erreurs vues dans Expo Go (captures) :
â€¢ Cannot find module 'babel-preset-expo'
â€¢ TransformError / SyntaxError index.js
â€¢ Messages Make sure all the Babel plugins and presets are defined as dependencies
â€¢ Longue stacktrace venant de @babel/core, @expo/metro-config, metro-transform-worker
â€¢ 1 port did not open on Replit
Objectif
Projet stable, propre et fonctionnel (Expo SDK 54 + Node 20) avec Expo Go via tunnel et version web accessible par lien public.
Ã€ la fin, fournis :
â€¢ âœ… RÃ©sumÃ© â€œcheckup finalâ€ (versions, ports, tunnel, Metro OK, 0 erreur)
â€¢ ğŸ“ Lien Expo Go (exp.direct) prÃªt Ã  scanner / ouvrir
â€¢ ğŸŒ Lien public Web pour tester dans le navigateur
â€¢ ğŸ§± Arborescence complÃ¨te du projet
â€¢ ğŸ“„ Contenu final des fichiers clÃ©s (.replit, package.json, babel.config.js, metro.config.js)
â€¢ ğŸ“¦ Lien ZIP du projet sans node_modules
Actions Ã  exÃ©cuter
â€¢ Purge & rÃ©install propre
rm -rf node_modules package-lock.json .expo .cache npm install --legacy-peer-deps 
â€¢ DÃ©pendances Babel/Metro requises par SDK 54
npm i -D babel-preset-expo@^11.0.6 @babel/core@^7.23.9 @expo/metro-config@latest 
â€¢ DÃ©pendances Web (obligatoires pour Expo Web)
npx expo install react-dom react-native-web @expo/metro-runtime 
â€¢ Fichiers de config
â€¢ babel.config.js
module.exports = function (api) { api.cache(true); return { presets: ['babel-preset-expo'] }; }; 
â€¢ metro.config.js
const { getDefaultConfig } = require('expo/metro-config'); module.exports = getDefaultConfig(__dirname); 
â€¢ Forcer Node 20 + ports sur Replit
Ã‰crire/mettre Ã  jour .replit :
entrypoint = "index.js" modules = ["nodejs-20"] [env] EXPO_NO_TELEMETRY = "1" EXPO_USE_DEV_SERVER = "true" EXPO_DEVTOOLS_LISTEN_ADDRESS = "0.0.0.0" [interpreter] command = ["bash", "-lc"] run = "npm ci || npm install --legacy-peer-deps; npx expo start --tunnel --clear" [[ports]] localPort = 8081 externalPort = 80 
â€¢ VÃ©rifier package.json (versions SDK 54)
â€¢ Assurer :
"expo": "~54.0.0", "react": "18.2.0", "react-native": "0.76.5" 
â€¢ Puis :
npx expo install --fix 
â€¢ DÃ©marrage et tests
â€¢ DÃ©marrer Expo Go avec tunnel et purge cache :
npx expo start --tunnel --clear 
â€¢ En parallÃ¨le, tester la version Web (et ouvrir le port web public) :
npx expo start --web 
Si besoin, configure aussi un port web exposÃ© (ex. 8080/5173) et donne-moi le lien public Replit pour la Web Preview.
â€¢ Si une erreur rÃ©apparaÃ®t (babel/metro/ports), corriger automatiquement (rÃ©installer, ajuster config), relancer et ne me rendre le rÃ©sultat quâ€™une fois le lancement 100% OK.
Ã€ livrer obligatoirement
â€¢ âœ… Checkup final (Node=20, SDK=54, Metro OK, ngrok/tunnel OK, ports OK)
â€¢ ğŸ”— URL Expo Go (exp.direct) + instructions dâ€™ouverture (ou bouton)
â€¢ ğŸŒ URL publique Web Replit (prÃ©visualisation)
â€¢ ğŸ§± Arborescence complÃ¨te du projet (dossiers/fichiers)
â€¢ ğŸ“„ Contenu final de : .replit, package.json, babel.config.js, metro.config.js
â€¢ ğŸ“¦ Lien ZIP tÃ©lÃ©chargeable du projet (sans node_modules) pour que je lâ€™importe ailleurs
â€¢ ğŸ“‘ Journal des corrections appliquÃ©es (liste prÃ©cise de ce qui a Ã©tÃ© changÃ©)
Important : Garder le projet en Expo SDK 54 et Node 20, ne pas upgrader React Native ou Expo. Assurer que babel-preset-expo est bien rÃ©solu et que le bundler Hermes compile sans erreur.
